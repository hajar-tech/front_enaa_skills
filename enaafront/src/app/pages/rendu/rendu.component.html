<main class="main">
  <h2>Rendus individuels</h2>
  <div class="content-box">
    <div class="left-panel">
      <div class="title">Brief Title</div>
      <div>
        <label style="color: red; font-size: 0.8rem;">* Écrivez un message</label>
        <div class="message-box">
          <input type="text" placeholder="Écrivez un message">
          <button title="Envoyer"><i class="fas fa-paper-plane"></i></button>
        </div>
      </div>
    </div>
    <div class="right-panel">
      <div>
        <p>Voici les compétences de <strong>brief</strong></p>
        <p style="margin-top: 1rem; font-size: 0.85rem;">c1. Planifier le travail à effectuer individuellement</p>
      </div>
      <button class="submit-button" (click)="openModal()"><i class="fas fa-plus"></i> Soumettre un rendu</button>
    </div>
  </div>

  <!-- Modal Overlay and Form -->
  <div class="modal-overlay" *ngIf="isModalVisible">
    <div class="modal-form">
      <h3>Ajouter un rendu</h3>
      <form (ngSubmit)="submitForm()" id="renduForm">
        <div class="form-group">
          <label><input type="checkbox" [(ngModel)]="likeBrief" name="likeInput"> J'aime ce brief</label>
        </div>
        <div class="form-group" id="urlInputsGroup">
          <label>URLs</label>
          <div id="urlInputRowContainer">
            <div class="url-input-row">
              <input type="url" [(ngModel)]="newUrl" name="urlInput" placeholder="Lien du rendu">
              <button type="button" class="add-url-btn" (click)="addUrl()">Ajouter</button>
            </div>
          </div>
          <div id="addedUrlsList">
            <div class="added-url-row" *ngFor="let url of urls; let i = index">
              <a [href]="url" target="_blank">{{url}}</a>
              <button type="button" class="remove-added-url-btn" (click)="removeUrl(i)">&times;</button>
            </div>
          </div>
        </div>
        <div class="form-group">
          <label for="messageInput">Message</label>
          <textarea id="messageInput" rows="2" [(ngModel)]="message" name="messageInput" placeholder="Votre message" required></textarea>
        </div>
        <div style="display:flex;justify-content:flex-end;gap:0.5rem;">
          <button type="button" id="cancelModalBtn" (click)="closeModal()">Annuler</button>
          <button type="submit" class="submit-button">Envoyer</button>
        </div>
      </form>
    </div>
  </div>
</main>
